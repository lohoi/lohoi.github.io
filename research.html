<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<script src="https://vega.github.io/vega/vega.min.js"></script>
	<title>GEMS Lab Research</title>
</head>
<body>
	<h2> Random Subgraph Plots from Blogdata</h2>
	<p>Sample tutorial pulled from Vega github site to check dependencies run. </p>
	<div class="embed">
		<div id="view"></div>
	</div>

	<script>
	var vegaJSONSpec = {
		"width": 400,
		"height": 200,
		"padding": 5,

		"data": [{
		  "name": "table",
		  "values": [
			{"category": "A", "amount":  380},
			{"category": "A", "amount":  2440},
			{"category": "A", "amount":  6537},
			{"category": "A", "amount":  399},
			{"category": "A", "amount":  3139},
			{"category": "A", "amount":  4506},
			{"category": "A", "amount":  6559},
			{"category": "A", "amount":  2478},
			{"category": "A", "amount":  6580},
		  ]
		}
		],

		"signals": [
		{
		  "name": "tooltip",
		  "value": {},
		  "on": [
		    {"events": "rect:mouseover", "update": "datum"},
		    {"events": "rect:mouseout",  "update": "{}"}
		  ]
		}
		],

		"scales": [
		{
		  "name": "xscale",
		  "type": "band",
		  "domain": {"data": "table", "field": "category"},
		  "range": "width"
		},
		{
		  "name": "yscale",
		  "domain": {"data": "table", "field": "amount"},
		  "nice": true,
		  "range": "height"
		}
		],

		"axes": [
		{ "orient": "bottom", "scale": "xscale" },
		{ "orient": "left", "scale": "yscale" }
		],

		"marks": [
		{
		  "type": "rect",
		  "from": {"data":"table"},
		  "encode": {
		    "enter": {
		      "x": {"scale": "xscale", "field": "category", "offset": 1},
		      "width": {"scale": "xscale", "band": 1, "offset": -1},
		      "y": {"scale": "yscale", "field": "amount"},
		      "y2": {"scale": "yscale", "value": 0}
		    },
		    "update": {
		      "fill": {"value": "steelblue"}
		    },
		    "hover": {
		      "fill": {"value": "red"}
		    }
		  }
		},
		{
		  "type": "text",
		  "encode": {
		    "enter": {
		      "align": {"value": "center"},
		      "baseline": {"value": "bottom"},
		      "fill": {"value": "#333"}
		    },
		    "update": {
		      "x": {"scale": "xscale", "signal": "tooltip.category", "band": 0.5},
		      "y": {"scale": "yscale", "signal": "tooltip.amount", "offset": -2},
		      "text": {"signal": "tooltip.amount"},
		      "fillOpacity": [
		        {"test": "datum === tooltip", "value": 0},
		        {"value": 1}
		      ]
		    }
		  }
		}
		]
		}
	}	// end vegaJSONSpec

	var view = new vega.View(vega.parse(vegaJSONSpec))
  						.renderer('canvas')  // set renderer (canvas or svg)
  						.initialize('#view') // initialize view within parent DOM container
  						.hover()             // enable hover encode set processing
  						.run();   
	</script>
</body>
</html>